# NPM Backup Configuration
# This file configures the npm-backup script behavior for automated backups
# of Nginx Proxy Manager data and certificates.

[backup]

# Local backup directory where backup archives will be stored.
# Backups are created as timestamped tarballs (e.g., npm-20240101-120000.tar.gz).
# Default: /var/backups
# To change: Set to your desired backup directory path
local_backup_dir = /var/backups

# S3 bucket name for optional cloud backup storage.
# If empty, backups will only be stored locally.
# To enable S3 uploads:
#   1. Set this to your S3 bucket name (e.g., "my-npm-backups")
#   2. Ensure the instance has AWS credentials configured (IAM role or credentials file)
#   3. The bucket must exist and be accessible from this instance
# Default: (empty - S3 upload disabled)
# To change: Set to your S3 bucket name, or leave empty to disable S3 uploads
s3_bucket =

# S3 key prefix for backup files uploaded to S3.
# This prefix will be prepended to all backup filenames in S3.
# Example: If prefix is "npm" and backup is "npm-20240101-120000.tar.gz",
#          the S3 key will be "npm/npm-20240101-120000.tar.gz"
# Default: npm
# To change: Set to your desired prefix, or leave as "npm"
s3_prefix = npm

# Number of most recent local backups to retain.
# Older backups beyond this count will be automatically deleted.
# This is a count-based retention (not time-based).
# Example: If set to 7, the 7 most recent backups are kept, older ones are removed.
# Set to 0 to disable automatic cleanup (not recommended).
# Default: 7
# To change: Set to the number of backups you want to keep (recommended: 5-30)
local_retention = 7

